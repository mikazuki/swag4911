<?xml version="1.0" encoding="ASCII"?>
<metamodel:Model xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:metamodel="http://www.example.org/metamodel" xsi:schemaLocation="http://www.example.org/metamodel metamodel/metamodel.ecore" name="swag">
  <entities name="Action" persistenceSuperclass="true">
    <members name="startDate" type="java.util.Date">
      <column/>
    </members>
    <members name="duration" type="Integer">
      <column/>
    </members>
    <members name="target" complexType="//@entities.1" persistenceRelation="ManyToOne"/>
    <members name="player" complexType="//@entities.2" persistenceRelation="ManyToOne"/>
  </entities>
  <entities name="Tile">
    <members name="map" complexType="//@entities.9" persistenceRelation="ManyToOne">
      <joincolumn name="mapId"/>
    </members>
    <members name="special" enumType="//@enums.1"/>
    <members name="troops" complexType="//@entities.14" hasMultipleValues="true" persistenceRelation="OneToMany" persistenceMappedBy="position"/>
    <embeddedId name="Id">
      <members name="mapId" type="Long"/>
      <members name="x" type="Integer"/>
      <members name="y" type="Integer"/>
    </embeddedId>
  </entities>
  <entities name="Player"/>
  <entities name="Address" persistenceEmbeddable="true">
    <members name="state" type="String"/>
    <members name="city" type="String"/>
    <members name="postalCode" type="String"/>
    <members name="street" type="String"/>
  </entities>
  <entities name="Base">
    <members name="home" type="Boolean">
      <column/>
    </members>
    <members name="owner" complexType="//@entities.2" persistenceRelation="ManyToOne"/>
    <members name="locatedOn" complexType="//@entities.1" persistenceRelation="ManyToOne"/>
    <members name="consistsOf" complexType="//@entities.5" hasMultipleValues="true" persistenceRelation="OneToMany" persistenceMappedBy="base"/>
  </entities>
  <entities name="Square"/>
  <entities name="BuildAction" superClass="//@entities.0">
    <members name="concerns" complexType="//@entities.7"/>
  </entities>
  <entities name="Building" persistenceEmbeddable="true">
    <members name="isOfLevel" complexType="//@entities.8"/>
    <members name="type" enumType="//@enums.0">
      <column/>
    </members>
  </entities>
  <entities name="BuildingLevel" persistenceEmbeddable="true">
    <members name="level" type="Integer">
      <column/>
    </members>
    <members name="factor_per_time" type="Float">
      <column/>
    </members>
    <members name="cost" enumType="//@enums.1">
      <column/>
    </members>
  </entities>
  <entities name="Map">
    <members name="maxUsers" type="Integer">
      <column/>
    </members>
    <members name="consistsOf" complexType="//@entities.1" hasMultipleValues="true" persistenceRelation="OneToMany" persistenceMappedBy="map"/>
  </entities>
  <entities name="Message">
    <members name="sendDate" type="java.util.Date">
      <column/>
    </members>
    <members name="receiveDate" type="java.util.Date"/>
    <members name="subject" type="String">
      <column persistenceLength="255"/>
    </members>
    <members name="content" type="String">
      <column/>
    </members>
    <members name="sender" complexType="//@entities.11" persistenceRelation="ManyToOne"/>
    <members name="receiver" complexType="//@entities.11" persistenceRelation="ManyToOne"/>
  </entities>
  <entities name="Player">
    <members name="online" type="Boolean">
      <column/>
    </members>
    <members name="deleted" type="Boolean">
      <column/>
    </members>
    <members name="user" complexType="//@entities.16" persistenceRelation="ManyToOne"/>
    <members name="plays" complexType="//@entities.9" persistenceRelation="OneToOne"/>
    <members name="owns" complexType="//@entities.4" hasMultipleValues="true" persistenceRelation="OneToMany" persistenceMappedBy="owner"/>
    <members name="actions" complexType="//@entities.0" hasMultipleValues="true" persistenceRelation="OneToMany" persistenceMappedBy="player"/>
    <members name="resources" type="" complexType="//@entities.17">
      <attributeOverride>
        <attributeOverrides name="resources_gold" column="amount_gold"/>
        <attributeOverrides name="resources_stone" column="amount_stone"/>
        <attributeOverrides name="resources_wood" column="amount_wood"/>
        <attributeOverrides name="resources_crops" column="amount_crops"/>
      </attributeOverride>
    </members>
    <members name="income" complexType="//@entities.17">
      <attributeOverride>
        <attributeOverrides name="income_gold" column="amount_gold"/>
        <attributeOverrides name="income_stone" column="amount_stone"/>
        <attributeOverrides name="income_wood" column="amount_wood"/>
        <attributeOverrides name="income_crops" column="amount_crops"/>
      </attributeOverride>
    </members>
    <members name="upkeep" complexType="//@entities.17">
      <attributeOverride>
        <attributeOverrides name="upkeep_gold" column="amount_gold"/>
        <attributeOverrides name="upkeep_stone" column="amount_stone"/>
        <attributeOverrides name="upkeep_wood" column="amount_wood"/>
        <attributeOverrides name="upkeep_crops" column="amount_crops"/>
      </attributeOverride>
    </members>
  </entities>
  <entities name="Resource">
    <members name="player" complexType="//@entities.11" persistenceRelation="ManyToOne">
      <joincolumn name="playerId"/>
    </members>
    <members name="amount" type="Integer">
      <column/>
    </members>
    <embeddedId name="Id">
      <members name="playerId" type="Long"/>
      <members name="resourceType" enumType="//@enums.1"/>
    </embeddedId>
  </entities>
  <entities name="Square">
    <members name="base" complexType="//@entities.4" persistenceRelation="ManyToOne">
      <joincolumn name="baseId"/>
    </members>
    <members name="building" complexType="//@entities.7"/>
    <embeddedId name="Id">
      <members name="baseId" type="Long"/>
      <members name="position" type="Integer"/>
    </embeddedId>
  </entities>
  <entities name="Troop">
    <members name="strength" type="Integer">
      <column/>
    </members>
    <members name="speed" type="Integer">
      <column/>
    </members>
    <members name="defense" type="Integer">
      <column/>
    </members>
    <members name="level" type="Integer">
      <column/>
    </members>
    <members name="type" enumType="//@enums.2">
      <column/>
    </members>
    <members name="position" complexType="//@entities.1" persistenceRelation="ManyToOne" persistenceOptional="true"/>
  </entities>
  <entities name="TroopAction" superClass="//@entities.0">
    <members name="concerns" complexType="//@entities.14" hasMultipleValues="true" persistenceRelation="ManyToMany" persistenceOptional="true"/>
  </entities>
  <entities name="User" persistenceTableName="swag_user">
    <members name="username" type="String">
      <column persistenceUnique="true" persistenceLength="50"/>
    </members>
    <members name="password" type="String">
      <column persistenceLength="50"/>
    </members>
    <members name="firstName" type="String">
      <column persistenceNullable="true" persistenceLength="255"/>
    </members>
    <members name="lastName" type="String">
      <column persistenceNullable="true" persistenceLength="255"/>
    </members>
    <members name="email" type="String">
      <column persistenceNullable="true" persistenceLength="100"/>
    </members>
    <members name="utcOffset" type="Integer">
      <column/>
    </members>
    <members name="players" complexType="//@entities.11" hasMultipleValues="true" persistenceRelation="OneToMany" persistenceMappedBy="user"/>
    <members name="address" complexType="//@entities.3"/>
  </entities>
  <entities name="ResourceValue" persistenceEmbeddable="true">
    <members name="amount_gold" type="Integer"/>
    <members name="amount_stone" type="Integer"/>
    <members name="amount_wood" type="Integer"/>
    <members name="amount_crops" type="Integer"/>
  </entities>
  <daos daoFor="//@entities.4" name="BaseDao"/>
  <daos daoFor="//@entities.6" name="BuildActionDao"/>
  <daos daoFor="//@entities.9" name="MapDao"/>
  <daos daoFor="//@entities.10" name="MessageDao"/>
  <daos daoFor="//@entities.11" name="PlayerDao"/>
  <daos daoFor="//@entities.12" name="ResourceDao"/>
  <daos daoFor="//@entities.13" name="SquareDao"/>
  <daos daoFor="//@entities.1" name="TileDao"/>
  <daos daoFor="//@entities.14" name="TroopDao"/>
  <daos daoFor="//@entities.15" name="TroopActionDao"/>
  <daos daoFor="//@entities.16" name="UserDao"/>
  <enums name="BuildingType">
    <items value="QUARRY"/>
    <items value="LUMBERJACK"/>
    <items value="FARM"/>
    <items value="MINE"/>
    <items value="INFANTRY_SCHOOL"/>
    <items value="CAVALRY_SCHOOL"/>
    <items value="BOW_SCHOOL"/>
  </enums>
  <enums name="ResourceType">
    <items value="STONE"/>
    <items value="WOOD"/>
    <items value="CROPS"/>
    <items value="GOLD"/>
  </enums>
  <enums name="TroopType">
    <items value="INFANTRY"/>
    <items value="CAVALRY"/>
    <items value="BOWMEN"/>
  </enums>
  <persistence databaseName="swa" userName="swa" password="swa11" persistenceProvider="PostgreSQL"/>
</metamodel:Model>
